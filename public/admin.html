<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Panel de Administraci√≥n ‚Äî uyu.exchange</title>
    <meta name="description" content="Acceso al panel de administraci√≥n de uyu.exchange para editar datos internos como combustibles." />

    <!-- Open Graph / SEO -->
    <meta property="og:title" content="Panel de Administraci√≥n ‚Äî uyu.exchange" />
    <meta property="og:description" content="Herramientas internas para gestionar datos de uyu.exchange." />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="es_UY" />
    <meta property="og:url" content="https://uyu.exchange/admin.html" />
    <meta property="og:image" content="/og-image.png" />

    <!-- TailwindCSS CDN + paleta del index -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                50:  '#f1f8f5',
                100: '#dcefe6',
                200: '#c1e1d1',
                300: '#99ccb3',
                400: '#6fb896',
                500: '#4aa87d',
                600: '#2f9467',
                700: '#247a56',
                800: '#1f6247',
                900: '#1a523c'
              }
            }
          }
        }
      }
    </script>

    <link rel="icon" href="/favicon.ico" />
  </head>
  <body class="bg-gradient-to-b from-white to-brand-50 text-slate-900 antialiased">

    <!-- Header (id√©ntico al index) -->
    <header class="sticky top-0 z-40 backdrop-blur bg-white/70 border-b border-slate-200">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <a href="/" class="flex items-center gap-2 font-semibold text-slate-900">
            <span class="inline-flex h-8 w-8 items-center justify-center rounded-lg bg-brand-600 text-white">U</span>
            <span class="hidden sm:inline">uyu.exchange</span>
          </a>
          <nav class="hidden md:flex items-center gap-6 text-sm">
            <a href="/" class="hover:text-brand-700">Inicio</a>
            <a href="/nosotros.html" class="hover:text-brand-700">Nosotros</a>
            <a href="/developer.html" class="hover:text-brand-700">Desarrolladores</a>
            <a href="/admin.html" class="inline-flex items-center rounded-xl bg-slate-900 px-4 py-2 font-medium text-white hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-900">Admin</a>
          </nav>
          <button id="menuBtn" class="md:hidden inline-flex items-center justify-center rounded-lg p-2 hover:bg-slate-100" aria-label="Abrir men√∫">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path fill-rule="evenodd" d="M3.75 5.25a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1-.75-.75Zm0 6a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1-.75-.75Zm0 6a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"/></svg>
          </button>
        </div>
      </div>
      <div id="mobileMenu" class="md:hidden hidden border-t border-slate-200 bg-white">
        <div class="max-w-7xl mx-auto px-4 py-3 flex flex-col gap-3 text-sm">
          <a href="/" class="hover:text-brand-700">Inicio</a>
          <a href="/nosotros.html" class="hover:text-brand-700">Nosotros</a>
          <a href="/developer.html" class="hover:text-brand-700">Desarrolladores</a>
          <a href="/admin.html" class="inline-flex items-center rounded-xl bg-slate-900 px-4 py-2 font-medium text-white w-max hover:bg-slate-800">Admin</a>
        </div>
      </div>
    </header>

    <!-- Contenido -->
    <main class="py-10 sm:py-14">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <!-- T√≠tulo y subt√≠tulo -->
        <div class="max-w-3xl">
          <h1 class="text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900">Panel de Administraci√≥n</h1>
          <p class="mt-3 text-slate-600">Acceso protegido para gestionar herramientas internas.</p>
        </div>

        <!-- App mount -->
        <div id="app" class="mt-8"></div>
      </div>
    </main>

    <!-- Footer (id√©ntico al index) -->
    <footer class="border-t mx-auto border-slate-200 bg-brand-50/40">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 text-xs sm:text-sm text-slate-600 flex flex-col sm:flex-row items-center justify-between gap-2">
        <div>¬© <span id="year"></span> uyu.exchange ‚Äî Hecho en Uruguay üá∫üáæ</div>
        <div class="flex items-center gap-4">
          <a href="/" class="hover:text-brand-700">Inicio</a>
          <a href="/nosotros.html" class="hover:text-brand-700">Nosotros</a>
          <a href="/developer.html" class="hover:text-brand-700">Desarrolladores</a>
          <a href="mailto:api@uyu.exchange" class="hover:text-brand-700">Contacto</a>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script>
      // Mobile menu
      const menuBtn = document.getElementById('menuBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      menuBtn?.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

      document.getElementById('year').textContent = new Date().getFullYear();

      // ====== APP (login + panel) ======
      const app = document.getElementById("app");

      // ‚ö†Ô∏è Hash provisto (mantengo el tuyo)
      const correctHash = "240be518fabd2724ddb6f04eeb1da5967448d7e831c08c8fa822809f74c720a9";

      async function sha256(text) {
        const encoder = new TextEncoder();
        const data = encoder.encode(text);
        const hashBuffer = await crypto.subtle.digest("SHA-256", data);
        const hashArray = Array.from(new Uint8Array(hashBuffer));
        return hashArray.map(b => b.toString(16).padStart(2, "0")).join("");
      }

      // Estado inicial
      if (localStorage.getItem("adminLogged") === "true") {
        renderAdminPanel();
      } else {
        renderLogin();
      }

      function renderLogin() {
        app.innerHTML = `
          <section class="mt-6">
            <div class="max-w-sm mx-auto">
              <div class="rounded-2xl bg-white ring-1 ring-slate-200 shadow-sm p-6">
                <h2 class="text-xl font-bold text-slate-900 mb-1">üîê Admin Panel</h2>
                <p class="text-sm text-slate-600 mb-4">Ingres√° la contrase√±a para continuar.</p>
                <label class="block text-sm font-medium text-slate-700 mb-1" for="password">Contrase√±a</label>
                <input id="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="w-full rounded-xl border-slate-300 focus:border-brand-600 focus:ring-brand-600" />
                <button id="loginBtn" class="mt-4 w-full inline-flex items-center justify-center rounded-xl bg-brand-600 px-4 py-2 text-white font-semibold hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-600">Ingresar</button>
                <p id="errorMsg" class="text-red-600 text-sm mt-3 hidden">‚õî Contrase√±a incorrecta</p>
                <div class="mt-4">
                  <a href="/index.html" class="inline-flex items-center justify-center w-full rounded-xl bg-slate-100 px-4 py-2 text-slate-800 hover:bg-slate-200">‚¨ÖÔ∏è Volver al Inicio</a>
                </div>
              </div>
            </div>
          </section>
        `;

        document.getElementById("loginBtn").addEventListener("click", async () => {
          const password = document.getElementById("password").value || "";
          const hash = await sha256(password);
          if (hash === correctHash) {
            localStorage.setItem("adminLogged", "true");
            renderAdminPanel();
          } else {
            document.getElementById("errorMsg").classList.remove("hidden");
          }
        });
      }

      function renderAdminPanel() {
        app.innerHTML = `
          <section class="mt-6">
            <div class="max-w-4xl mx-auto">
              <div class="rounded-2xl bg-white ring-1 ring-slate-200 shadow-sm p-6">
                <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3">
                  <div>
                    <h2 class="text-2xl font-bold text-slate-900">Panel de Administraci√≥n API</h2>
                    <p class="text-sm text-slate-600">Actualizar datos internos del sistema.</p>
                  </div>
                  <div class="flex gap-2">
                    <a href="/index.html" class="inline-flex items-center rounded-xl bg-slate-100 px-4 py-2 text-slate-800 hover:bg-slate-200">‚¨ÖÔ∏è Inicio</a>
                    <button id="logoutBtn" class="inline-flex items-center rounded-xl bg-red-600 px-4 py-2 text-white hover:bg-red-700">üîì Cerrar sesi√≥n</button>
                  </div>
                </div>

                <div class="mt-6 grid grid-cols-1 gap-6">
                  <!-- Card: Editor de Combustibles -->
                  <div class="rounded-2xl ring-1 ring-slate-200 bg-slate-50 p-6">
                    <h3 class="text-lg font-semibold text-slate-900">Editor de Combustibles</h3>
                    <p class="text-sm text-slate-600 mt-1">
                      Actualiz√° precios en pesos por litro y fecha. Conversi√≥n autom√°tica a galones.
                    </p>
                    <a href="/fuel-admin.html" class="mt-4 inline-flex items-center rounded-xl bg-brand-600 px-4 py-2 font-medium text-white hover:bg-brand-700">Ir al Editor</a>
                  </div>

                  <!-- Espacio para futuros m√≥dulos -->
                  <!--
                  <div class="rounded-2xl ring-1 ring-slate-200 bg-slate-50 p-6">
                    <h3 class="text-lg font-semibold text-slate-900">Otro m√≥dulo</h3>
                    <p class="text-sm text-slate-600 mt-1">Descripci√≥n corta del m√≥dulo.</p>
                    <a href="#" class="mt-4 inline-flex items-center rounded-xl bg-brand-600 px-4 py-2 font-medium text-white hover:bg-brand-700">Abrir</a>
                  </div>
                  -->
                </div>
              </div>
            </div>
          </section>
        `;

        document.getElementById("logoutBtn").addEventListener("click", () => {
          localStorage.removeItem("adminLogged");
          renderLogin();
        });
      }
    </script>
  </body>
</html>